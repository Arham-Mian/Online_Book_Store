# 📚 Online Bookstore Application — Java + MySQL + DynamoDB + Jenkins CI/CD

Welcome to the **Online Bookstore Application**, a complete **Java-based full-stack mini-project**  
designed to demonstrate the **Software Development Life Cycle (SDLC)** from **Requirement Gathering to Deployment**.

This application allows users to:
- 🔍 **Search** for books by title or author
- 🛒 **Add** books to a shopping cart
- 💳 **Checkout** to place an order (stored in MySQL)
- 🤖 **View recommendations** fetched from DynamoDB (NoSQL)
- 🧪 Run automated tests with **JUnit**
- ⚙️ Build, test, and deploy via **Jenkins CI/CD**

---

## 🧩 1. Project Summary

This project was developed as part of a **10-day structured SDLC learning journey**,  
covering everything from software design diagrams to database integration and automation pipelines.

| **Day** | **Topic** | **Summary** |
|----------|------------|-------------|
| 🧠 **Day 1** | Requirement Gathering | Defined all functional and non-functional requirements. |
| 🧱 **Day 2** | OOAD & Design | Designed UML (Class, Use Case, ER) diagrams using PlantUML. |
| ⚙️ **Day 3** | Environment Setup | Installed Java 17, Maven, MySQL; created IntelliJ project structure. |
| 🔍 **Day 4** | Book Search | Built `BookService` and DAO for CRUD and search operations. |
| 🛒 **Day 5** | Cart & Checkout | Implemented `Cart` and `CheckoutService` connected to MySQL. |
| ☁️ **Day 6** | DynamoDB Integration | Configured AWS SDK to fetch “Recommended Books” from DynamoDB Local. |
| 🔁 **Day 7** | Data Structures | Added browsing history feature using a LinkedList. |
| 🧪 **Day 8** | Testing | Replaced Cucumber BDD with JUnit 5 test cases. |
| 🔧 **Day 9** | Jenkins CI/CD | Automated build, test, and reporting pipeline with Jenkinsfile. |
| 🚀 **Day 10** | Deployment & Demo | Packaged the app, performed manual testing, and finalized documentation. |

---

## 🧠 2. Technologies Used

| **Category** | **Tools / Tech** |
|---------------|------------------|
| 💻 **Programming Language** | Java 17 |
| 📦 **Build Tool** | Apache Maven |
| 🧪 **Testing Framework** | JUnit 5 (earlier Cucumber BDD) |
| 🗄️ **Relational Database** | MySQL 8 |
| ☁️ **NoSQL Database** | AWS DynamoDB Local |
| ⚙️ **DevOps / CI-CD** | Jenkins |
| 🧑‍💻 **IDE** | IntelliJ IDEA |
| 🎨 **Design Diagrams** | PlantUML |
| 🔗 **Version Control** | Git + GitHub |

---



<h2>📁 3. Project Structure</h2>

<pre>
Online_Book_Store/
├─ pom.xml
├─ README.md
├─ .gitignore
├─ Jenkinsfile
│
├─ docs/
│  ├─ final_report.md
│  ├─ requirements.md
│  ├─ design/
│  │  ├─ class-diagram.puml
│  │  ├─ class-diagram.png
│  │  ├─ er-diagram.puml
│  │  ├─ er-diagram.png
│  │  ├─ use-case-diagram.puml
│  │  └─ use-case-diagram.png
│  ├─ sql/
│  │  ├─ 01_schema.sql
│  │  └─ 02_seed.sql
│  └─ dynamo/
│     └─ seed_recommendations.json
│
├─ src/
│  ├─ main/
│  │  ├─ java/com/example/bookstore/
│  │  │  ├─ App.java
│  │  │  ├─ config/
│  │  │  │  ├─ DB.java
│  │  │  │  └─ Dynamo.java
│  │  │  ├─ dao/
│  │  │  │  ├─ BookDao.java
│  │  │  │  ├─ OrderDao.java
│  │  │  │  └─ RecommendationsDao.java
│  │  │  ├─ model/
│  │  │  │  ├─ Book.java
│  │  │  │  ├─ BrowsingHistory.java
│  │  │  │  ├─ Cart.java
│  │  │  │  ├─ Recommendation.java
│  │  │  │  └─ User.java
│  │  │  └─ service/
│  │  │     ├─ BookService.java
│  │  │     ├─ CheckoutService.java
│  │  │     └─ RecommendationsService.java
│  │  └─ resources/
│  │     └─ recommendations.json
│  └─ test/
│     └─ (JUnit tests)
│
└─ target/   (generated by Maven; ignored)
</pre>
<p><strong>Layers:</strong> <code>model</code> (POJOs) · <code>dao</code> (DB access) · <code>service</code> (business logic) · <code>config</code> (connections) · <code>App.java</code> (entry point)</p>



---

## 🧾 4. Core Features

✅ Search books by **title or author**  
✅ Add / Remove books from cart  
✅ Checkout → generates order record in MySQL  
✅ Recommended Books from DynamoDB Local  
✅ Recently Browsed (LinkedList data structure)  
✅ Full CRUD operations (Create, Read, Update, Delete)  
✅ Automated JUnit testing  
✅ Jenkins CI/CD integration

---

## 🗃️ 5. Database Setup (MySQL)

Run these queries in **MySQL Workbench** or CLI:

```sql
CREATE DATABASE IF NOT EXISTS bookstore_fresh;
USE bookstore_fresh;

CREATE TABLE books (
  id INT AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(100),
  author VARCHAR(100),
  price DECIMAL(10,2),
  stock INT
);

CREATE TABLE orders (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_name VARCHAR(100),
  total DECIMAL(10,2),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE order_items (
  id INT AUTO_INCREMENT PRIMARY KEY,
  order_id INT,
  book_id INT,
  quantity INT,
  price DECIMAL(10,2),
  FOREIGN KEY (order_id) REFERENCES orders(id),
  FOREIGN KEY (book_id) REFERENCES books(id)
);

INSERT INTO books (title, author, price, stock)
VALUES
('Clean Code', 'Robert C. Martin', 450.00, 10),
('Design Patterns', 'Erich Gamma', 550.00, 8),
('Refactoring', 'Martin Fowler', 600.00, 5);


---

## 🧩6. DynamoDB (NoSQL) Setup

In addition to MySQL, the application also uses **Amazon DynamoDB (local instance)**  
to store and fetch personalized book recommendations for each user.

---

### 1️⃣ Install / Run DynamoDB Local

You can use AWS’s official DynamoDB Local JAR or Docker image.

**Option A — Using AWS JAR (Recommended for local dev):**
```bash
mkdir dynamodb_local
cd dynamodb_local
wget https://s3.us-west-2.amazonaws.com/dynamodb-local/dynamodb_local_latest.zip
unzip dynamodb_local_latest.zip
java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb
```

**Option B — Using Docker (simpler):**
```bash
docker run -d -p 8000:8000 amazon/dynamodb-local
```

✅ This runs DynamoDB locally at  
**http://localhost:8000**

---

### 2️⃣ Verify Connection

The app’s config file [`Dynamo.java`](src/main/java/com/example/bookstore/config/Dynamo.java)  
already points to this local endpoint:

```java
private static final String DEFAULT_ENDPOINT = "http://localhost:8000";
```

So, no extra configuration is needed — the app connects automatically on startup.

---

### 3️⃣ Seed Demo Recommendations

To insert sample recommendation data (stored in DynamoDB),  
you can use the JSON file:
[`docs/dynamo/seed_recommendations.json`](docs/dynamo/seed_recommendations.json)

Load it manually using the AWS CLI:

```bash
aws dynamodb batch-write-item \
  --request-items file://docs/dynamo/seed_recommendations.json \
  --endpoint-url http://localhost:8000
```

This will create example records like:
- 👤 **Arham** → “Effective Java”, “Clean Architecture”, etc.
- 👤 **Guest** → “The Pragmatic Programmer”, “Clean Code”, etc.

---

### 4️⃣ Table Schema Used

The table name is **`RecommendedBooks`**, created automatically  
by the `RecommendationsDao` class at runtime.

| Attribute | Type | Description |
|------------|------|-------------|
| `userId`   | String (HASH key) | Unique user identifier |
| `rank`     | Number (RANGE key) | Ranking order (1–5) |
| `bookId`   | Number | Linked Book ID (from MySQL `books` table) |
| `title`    | String | Book title |
| `author`   | String | Book author |

---

### ✅ Output Example (from App.java)

When you select “Show Recommendations” in the console, you’ll see something like:

```
Top 5 for user001:
- #1 Clean Code - Robert C. Martin (bookId: 1)
- #2 Design Patterns - Erich Gamma (bookId: 2)
- #3 Harry Potter and the Philosopher's Stone - J.K. Rowling (bookId: 3)
```

---

💡 *Tip:* DynamoDB Local doesn’t require an AWS account or internet connection —  
it’s completely offline and resets data when restarted (unless you use `-sharedDb` mode).

---
